(this["webpackJsonpnew-app"]=this["webpackJsonpnew-app"]||[]).push([[0],{25:function(t,e,c){},50:function(t,e,c){"use strict";c.r(e);var n=c(0),a=c(1),s=c.n(a),r=c(18),o=c.n(r),l=(c(25),c(26),c(2)),i=c(8),j=c(5),b=c(4),d=c.n(b);function h(t){var e=t.author,c=(t.id,t.removeFromDom);t.name;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)(l.a,{to:"/AddAuthor",children:Object(n.jsx)("p",{className:"font-weight-bold",children:"Add an Author"})}),Object(n.jsx)("p",{className:"text-monospace",children:"We have quotes by"}),Object(n.jsxs)("table",{className:"table",children:[Object(n.jsx)("thead",{className:"thead-dark",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Author"}),Object(n.jsx)("th",{children:"Action Available"})]})}),Object(n.jsx)("tbody",{children:e.sort((function(t,e){return t.name.localeCompare(e.name)})).map((function(t,e){return Object(n.jsxs)("tr",{children:[Object(n.jsxs)("td",{scope:"row",children:[" ",t.name]}),Object(n.jsxs)("td",{children:[Object(n.jsx)(l.a,{to:"/".concat(t._id,"/edit"),children:Object(n.jsx)("button",{className:"btn btn-sm btn-outline-dark mt-4 ml-4",children:"Edit"})}),Object(n.jsx)("button",{className:"btn btn-sm btn btn-danger mt-4 ml-4",onClick:function(e){var n;n=t._id,d.a.delete("http://localhost:8000/api/authors/delete/".concat(n)).then((function(t){c(n)})),Object(l.c)("/")},children:"Delete"})]})]},e)}))})]})]})})}function u(){var t,e=Object(a.useState)([]),c=Object(j.a)(e,2),s=c[0],r=c[1],o=Object(a.useState)(!1),l=Object(j.a)(o,2),b=(l[0],l[1]);Object(a.useEffect)((function(){d.a.get("http://localhost:8000/api/authors/").then((function(t){console.log(t.data),r(t.data.author),console.log(s),b(!0)}))}),[]);return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(h,(t={author:s},Object(i.a)(t,"author",s),Object(i.a)(t,"removeFromDom",(function(t){r(s.filter((function(e){return e._id!=t})))})),t))})}var m=function(t){var e=Object(a.useState)(""),c=Object(j.a)(e,2),s=c[0],r=c[1],o=Object(a.useState)([]),i=Object(j.a)(o,2),b=i[0],h=i[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(l.a,{to:"/",children:Object(n.jsx)("p",{className:"font-weight-bold",children:"Home"})}),Object(n.jsx)("h4",{className:"text-capitalize",children:"Add a new  author"}),Object(n.jsx)("div",{className:"row my-5",children:Object(n.jsx)("div",{className:"col-sm-5 offset-sm-3",children:Object(n.jsx)("div",{className:"card",children:Object(n.jsx)("div",{className:"card-body",children:Object(n.jsxs)("form",{onSubmit:function(t){t.preventDefault();var e={name:s};d.a.post("http://localhost:8000/api/authors/new",e).then((function(t){console.log(t),Object(l.c)("/")})).catch((function(t){for(var e=t.response.data.errors,c=[],n=0,a=Object.keys(e);n<a.length;n++){var s=a[n];c.push(e[s].message)}h(c)}))},children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Name"}),Object(n.jsx)("input",{type:"text",className:"form-control",name:"name",value:s,onChange:function(t){return r(t.target.value)}}),b.map((function(t,e){return Object(n.jsx)("p",{className:"text-danger",children:t},e)}))]}),Object(n.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Submit"}),Object(n.jsx)("button",{className:"btn btn-warning btn-block",onClick:function(){return Object(l.c)("/")},children:"Cancel"})]})})})})})]})},O=function(t){var e=t.id,c=Object(a.useState)(""),s=Object(j.a)(c,2),r=s[0],o=s[1],i=Object(a.useState)([]),b=Object(j.a)(i,2),h=b[0],u=b[1];Object(a.useEffect)((function(){d.a.get("http://localhost:8000/api/authors/".concat(e)).then((function(t){console.log(t),o(t.data.author.name)}))}),[]);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(l.a,{to:"/",children:Object(n.jsx)("p",{className:"font-weight-bold",children:"Home"})}),Object(n.jsx)("h4",{className:"text-capitalize",children:" Edit this author"}),Object(n.jsx)("div",{className:"row my-5 ",children:Object(n.jsx)("div",{className:"col-sm-5 offset-sm-4",children:Object(n.jsx)("div",{className:"card",children:Object(n.jsx)("div",{className:"card-body",children:r?Object(n.jsxs)("form",{onSubmit:function(t){t.preventDefault();var c={name:r};d.a.put("http://localhost:8000/api/authors/update/".concat(e),c).then((function(t){console.log(t),Object(l.c)("/")})).catch((function(t){for(var e=t.response.data.errors,c=[],n=0,a=Object.keys(e);n<a.length;n++){var s=a[n];c.push(e[s].message)}u(c)}))},children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Name"}),Object(n.jsx)("input",{type:"text",className:"form-control",name:"name",value:r,onChange:function(t){return o(t.target.value)}}),h.map((function(t,e){return Object(n.jsx)("p",{className:"text-danger",children:t},e)}))]}),Object(n.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Submit"}),Object(n.jsx)("button",{className:"btn btn-warning btn-block",onClick:function(){return Object(l.c)("/")},children:"Cancel"})]}):Object(n.jsxs)("p",{children:["We're sorry, but we could not find the author you are looking for. Would you like to add this author to our database? ",Object(n.jsx)(l.a,{to:"/AddAuthor",children:"Add New Author"})]})})})})})]})};var x=function(){return Object(n.jsxs)("div",{className:"container mt-5 ",children:[Object(n.jsx)("h1",{className:"text-info",children:" Favorite Authors"}),Object(n.jsxs)(l.b,{children:[Object(n.jsx)(u,{path:"/"}),Object(n.jsx)(m,{path:"/AddAuthor"}),Object(n.jsx)(O,{path:"/:id/edit"})]})]})},f=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,51)).then((function(e){var c=e.getCLS,n=e.getFID,a=e.getFCP,s=e.getLCP,r=e.getTTFB;c(t),n(t),a(t),s(t),r(t)}))};o.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(x,{})}),document.getElementById("root")),f()}},[[50,1,2]]]);
//# sourceMappingURL=main.d2ea9ab1.chunk.js.map