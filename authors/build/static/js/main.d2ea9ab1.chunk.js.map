{"version":3,"sources":["components/AuthortsList.jsx","components/Main.jsx","components/AddAuthor.jsx","components/EditAuthor.jsx","App.js","reportWebVitals.js","index.js"],"names":["AuthortsList","author","removeFromDom","id","name","to","className","sort","a","b","localeCompare","map","idx","scope","_id","onClick","e","authorId","axios","delete","then","res","navigate","Main","useState","setAuthor","setLoaded","useEffect","get","console","log","data","filter","AddAuthor","props","setName","errors","setErrors","onSubmit","preventDefault","post","catch","err","errorResponse","response","errorArr","Object","keys","key","push","message","type","value","onChange","target","index","EditAuthor","put","App","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d2ea9ab1.chunk.js","sourcesContent":["import React from 'react'\r\nimport axios from 'axios';\r\nimport {navigate, Link} from '@reach/router';\r\n\r\n\r\nexport default function AuthortsList({author , id ,removeFromDom , name }) {\r\n    const deleteProduct = (authorId) => {\r\n        axios.delete(`http://localhost:8000/api/authors/delete/${authorId}`)\r\n            .then(res => {\r\n                removeFromDom(authorId)\r\n            })\r\n            navigate(\"/\")\r\n    }\r\n    \r\n   \r\n   \r\n    return (\r\n\r\n        <>\r\n         <div>\r\n         <Link to=\"/AddAuthor\">\r\n        <p className=\"font-weight-bold\">Add an Author</p>\r\n        </Link>\r\n\r\n      \r\n        <p className=\"text-monospace\">We have quotes by</p>\r\n     \r\n         \r\n         <table className=\"table\">\r\n         <thead className=\"thead-dark\">\r\n            <tr>\r\n                       \r\n                <th>Author</th>\r\n                <th>Action Available</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n        {author.sort((a,b)  =>(a.name.localeCompare(b.name))).map((author , idx) =>\r\n        <tr key={idx}>\r\n        <td  scope=\"row\"> {author.name}</td>\r\n        <td>\r\n        <Link to={`/${author._id}/edit`}>\r\n        <button className=\"btn btn-sm btn-outline-dark mt-4 ml-4\">Edit</button>\r\n        </Link>\r\n        <button className=\"btn btn-sm btn btn-danger mt-4 ml-4\" onClick={(e)=>{deleteProduct(author._id)}}>\r\n                    Delete\r\n        </button>\r\n        </td>\r\n     \r\n        </tr>\r\n           )}\r\n        \r\n\r\n         </tbody>\r\n                \r\n         </table>\r\n         \r\n        </div>\r\n        </>  \r\n    )\r\n}\r\n\r\n\r\n\r\n","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n// import ProductForm from './ProductForm';\r\nimport AuthortsList from './AuthortsList';\r\n\r\n\r\n\r\n\r\n\r\nexport default function Main (){\r\n    const [author, setAuthor] = useState([]);\r\n    const [loaded, setLoaded] = useState(false);\r\n    useEffect(()=>{\r\n        axios.get('http://localhost:8000/api/authors/')\r\n            .then(res=>{\r\n                console.log(res.data)\r\n                setAuthor(res.data.author);\r\n              console.log(author)\r\n                setLoaded(true);\r\n            });\r\n    },[])\r\n\r\n\r\n  \r\n    const removeFromDom = authorId => {\r\n        setAuthor(author.filter(author => author._id != authorId));\r\n    }\r\n   \r\n   \r\n    return (\r\n        \r\n\r\n        <>\r\n\r\n\r\n        <AuthortsList  author={author} author ={author} removeFromDom={removeFromDom}/>\r\n        \r\n       \r\n        </>\r\n\r\n    \r\n        \r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import React, { useState } from 'react'\r\nimport axios from 'axios';\r\nimport { navigate  ,Link} from '@reach/router';\r\n\r\n\r\n\r\n\r\nconst AddAuthor =  props => {\r\n \r\n    const [name, setName] = useState(\"\"); \r\n    const [errors, setErrors] = useState([]); \r\n\r\n    const add = e => {\r\n      e.preventDefault();\r\n      const author = {name};\r\n      axios.post(\"http://localhost:8000/api/authors/new\", author)\r\n        .then(res => {\r\n          console.log(res);\r\n          navigate(\"/\");\r\n          \r\n        })\r\n        \r\n        .catch(err=>{\r\n            const errorResponse = err.response.data.errors;\r\n            const errorArr = [];\r\n            for (const key of Object.keys(errorResponse)) { \r\n                errorArr.push(errorResponse[key].message)\r\n            }\r\n            setErrors(errorArr);\r\n        });\r\n\r\n        \r\n        \r\n    }\r\n   \r\n    return (\r\n\r\n        <>\r\n        <Link to=\"/\">\r\n        <p className=\"font-weight-bold\">Home</p>\r\n        </Link>\r\n        <h4 className=\"text-capitalize\"> \r\n        Add a new  author\r\n        </h4>\r\n        <div className=\"row my-5\">\r\n        <div className=\"col-sm-5 offset-sm-3\">\r\n          <div className=\"card\">\r\n            <div className=\"card-body\">\r\n              <form onSubmit={add}>\r\n         \r\n                <div className=\"form-group\">\r\n                \r\n                <label>Name</label>\r\n                <input type=\"text\" className=\"form-control\" name=\"name\" value={name} onChange={e => setName(e.target.value)} />\r\n                {errors.map((err, index) => <p  className=\"text-danger\" key={index}>{err}</p>)}\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-dark btn-block\">Submit</button>\r\n                <button className=\"btn btn-warning btn-block\" onClick={()=> navigate(\"/\")}>Cancel</button>\r\n       \r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    </>\r\n    )\r\n}\r\n\r\nexport default AddAuthor\r\n\r\n","import React, { useEffect, useState } from 'react';\r\nimport { navigate  ,Link} from '@reach/router';\r\nimport axios from 'axios';\r\n\r\n\r\nconst EditAuthor =  ({id})  => {\r\n\r\n    const [name, setName] = useState(\"\"); \r\n    const [errors, setErrors] = useState([]); \r\n  \r\n    useEffect(() => {\r\n        axios.get(`http://localhost:8000/api/authors/${id}`)\r\n            .then(res => {\r\n              console.log(res)\r\n              setName(res.data.author.name);\r\n            })\r\n           \r\n    }, [])\r\n    const update = e => {\r\n        e.preventDefault();\r\n        const author = {name};\r\n        axios.put(`http://localhost:8000/api/authors/update/${id}`, author)\r\n        .then(res => {\r\n          console.log(res);\r\n      \r\n        \r\n          navigate(\"/\");\r\n       \r\n          })   \r\n      \r\n          .catch(err=>{\r\n              const errorResponse = err.response.data.errors;\r\n              const errorArr = [];\r\n              for (const key of Object.keys(errorResponse)) { \r\n                  errorArr.push(errorResponse[key].message)\r\n              }\r\n              setErrors(errorArr);\r\n          });\r\n\r\n    }\r\n\r\n    return (\r\n\r\n            <>\r\n       \r\n            <Link to=\"/\">\r\n            <p className=\"font-weight-bold\">Home</p>\r\n       \r\n            </Link>\r\n            <h4 className=\"text-capitalize\"> Edit this author</h4>\r\n            <div className=\"row my-5 \" >\r\n            <div className=\"col-sm-5 offset-sm-4\">\r\n              <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                \r\n                {\r\n                      name?\r\n                  <form onSubmit={update}>\r\n                   \r\n\r\n             \r\n                    <div className=\"form-group\">\r\n                      \r\n                     \r\n                   \r\n                    <label>Name</label>\r\n                  \r\n                    <input type=\"text\" className=\"form-control\" name=\"name\" value={name} onChange={e => setName(e.target.value)} />\r\n                    {errors.map((err, index) => <p  className=\"text-danger\" key={index}>{err}</p>)}\r\n                  </div>\r\n                  \r\n                  <button type=\"submit\" className=\"btn btn-dark btn-block\">Submit</button>\r\n                 \r\n                    <button className=\"btn btn-warning btn-block\" onClick={()=> navigate(\"/\")}>Cancel</button>\r\n                  \r\n                       \r\n           \r\n                </form>\r\n                  :\r\n                  <p>We're sorry, but we could not find\r\n                     the author you are looking for. Would you like to add this author to our database? <Link to=\"/AddAuthor\">Add New Author</Link>\r\n                     </p>\r\n                 }\r\n              </div>\r\n                  \r\n            </div>\r\n          </div>\r\n        </div>\r\n    </>\r\n    ) }\r\n\r\nexport default EditAuthor\r\n    \r\n    \r\n\r\n","import 'bootstrap/dist/css/bootstrap.min.css';\nimport React, { useState } from 'react'\nimport { Router} from '@reach/router';\nimport Main from './components/Main';\nimport AddAuthor from './components/AddAuthor';\nimport EditAuthor from './components/EditAuthor';\nfunction App() {\n  return (\n    <div className=\"container mt-5 \">\n      <h1  className=\"text-info\"> Favorite Authors</h1>\n      <Router>\n      <Main path=\"/\"/>\n      <AddAuthor path=\"/AddAuthor\"/>\n      <EditAuthor path=\"/:id/edit\"/>\n\n      </Router>\n   \n      \n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}